{"chunk":0,"numChunks":1,"fileHash":"9plIwMKSFkNyvW1W9jhbQyOvBxfT6j9NKw8KmXZXa8I=","filePath":"pkg/fsutil/embed.go","content":"package fsutil\n\nimport (\n\t\"embed\"\n\t\"io/fs\"\n\t\"strings\"\n)\n\n// EmbedExtract is ...\nfunc EmbedExtract(fileSystem embed.FS, folder string) error {\n\treturn fs.WalkDir(fileSystem, \".\", func(a_file_path string, a_file_info fs.DirEntry, parent_err error) error {\n\t\tif parent_err != nil {\n\t\t\treturn parent_err\n\t\t}\n\n\t\t// skip any directories entries, we just want to add files\n\t\tif a_file_info.IsDir() {\n\t\t\treturn nil\n\t\t}\n\n\t\tif strings.HasPrefix(a_file_path, folder) {\n\t\t\tfile, err := OpenFile(a_file_path, FsCWFlags, 0666)\n\t\t\tif err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\n\t\t\tfileContent, err := fileSystem.ReadFile(a_file_path)\n\t\t\tif err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\n\t\t\tif _, err := WriteOSFile(file, fileContent); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t}\n\n\t\treturn nil\n\t})\n}\n"}