{"chunk":0,"numChunks":1,"fileHash":"mT2IzJTnl3FAqxzVWMyUq8vBhfB1cTCloi57LRPunDQ=","filePath":"pkg/update/release.go","content":"package update\n\nimport (\n\t\"errors\"\n\t\"strings\"\n)\n\ntype release struct {\n\tId        int             `json:\"id\"`\n\tName      string          `json:\"name\"`\n\tTag       string          `json:\"tag_name\"`\n\tPublished string          `json:\"published_at\"`\n\tUrl       string          `json:\"html_url\"`\n\tAssets    []*ReleaseAsset `json:\"assets\"`\n}\n\ntype ReleaseAsset struct {\n\tId          int    `json:\"id\"`\n\tName        string `json:\"name\"`\n\tSize        int    `json:\"size\"`\n\tDownloadUrl string `json:\"browser_download_url\"`\n}\n\nfunc (r *release) findAssetBySuffix(suffix string) (*ReleaseAsset, error) {\n\tif suffix != \"\" {\n\t\tfor _, asset := range r.Assets {\n\t\t\tif strings.HasSuffix(asset.Name, suffix) {\n\t\t\t\treturn asset, nil\n\t\t\t}\n\t\t}\n\t}\n\n\treturn nil, errors.New(\"missing asset containing \" + suffix)\n}\n"}