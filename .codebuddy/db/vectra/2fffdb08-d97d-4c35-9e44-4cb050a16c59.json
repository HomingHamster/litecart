{"chunk":0,"numChunks":1,"fileHash":"HZEeMuCg1BImMi9HgL3MnCgEORAjBcymR2Vz9HXJ29o=","filePath":"internal/handlers/public/page.go","content":"package handlers\n\nimport (\n\t\"github.com/gofiber/fiber/v2\"\n\n\t\"github.com/shurco/litecart/internal/queries\"\n\t\"github.com/shurco/litecart/pkg/errors\"\n\t\"github.com/shurco/litecart/pkg/logging\"\n\t\"github.com/shurco/litecart/pkg/webutil\"\n)\n\n// Page is ...\n// [get] /api/page/:page_slug\nfunc Page(c *fiber.Ctx) error {\n\tpageSlug := c.Params(\"page_slug\")\n\tlog := logging.New()\n\tdb := queries.DB()\n\n\tpage, err := db.Page(c.Context(), pageSlug)\n\tif err != nil {\n\t\tif err == errors.ErrPageNotFound {\n\t\t\treturn webutil.StatusNotFound(c)\n\t\t}\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\n\treturn webutil.Response(c, fiber.StatusOK, \"Page content\", page)\n}\n"}