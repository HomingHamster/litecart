{"chunk":15,"numChunks":16,"fileHash":"OT1E1nCU/oF1uHBrV3/HQPWCZYVu1GcjnTiimB778ug=","filePath":"internal/queries/products.go","content":"package queries\nfunc (q *ProductQueries) AddDigitalFile(ctx context.Context, productID, fileUUID, fileExt, origName string) (*models.File, error) {\n\tfile := &models.File{\n\t\tID:   security.RandomString(),\n\t\tName: fileUUID,\n\t\tExt:  fileExt,\n\t}\n\n\tquery := `INSERT INTO digital_file (id, product_id, name, ext, orig_name) VALUES (?, ?, ?, ?, ?)`\n\t_, err := q.DB.ExecContext(ctx, query, file.ID, productID, file.Name, file.Ext, origName)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\treturn file, nil\n}\n// AddDigitalData adds a new digital data record associated with a product.\nfunc (q *ProductQueries) AddDigitalData(ctx context.Context, productID, content string) (*models.Data, error) {\n\tfile := &models.Data{\n\t\tID:      security.RandomString(),\n\t\tContent: content,\n\t}\n\n\tquery := `INSERT INTO digital_data (id, product_id, content) VALUES (?, ?, ?)`\n\t_, err := q.DB.ExecContext(ctx, query, file.ID, productID, file.Content)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\treturn file, nil\n}\n// UpdateDigital updates the content of a digital data record in the database.\nfunc (q *ProductQueries) UpdateDigital(ctx context.Context, digital *models.Data) error {\n\tquery := `UPDATE digital_data SET content = ? WHERE id = ?`\n\t_, err := q.DB.ExecContext(ctx, query, digital.Content, digital.ID)\n\treturn err\n}"}