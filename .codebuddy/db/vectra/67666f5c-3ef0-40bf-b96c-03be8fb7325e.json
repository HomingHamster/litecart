{"chunk":4,"numChunks":5,"fileHash":"WfR+2R/M3guhqnPA4GGm1f8tSMuQ0bWMN1w4XNQ6i+Q=","filePath":"internal/app.go","content":"package app\nfunc InstallCheck(c *fiber.Ctx) error {\n\tdb := queries.DB()\n\n\tctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n\tdefer cancel()\n\n\tresponse, err := db.GetSettingByKey(ctx, \"installed\")\n\tif err != nil {\n\t\treturn webutil.StatusBadRequest(c, err.Error())\n\t}\n\tinstall, _ := strconv.ParseBool(response[\"installed\"].Value.(string))\n\n\tif !install {\n\t\tif !strings.HasPrefix(c.Path(), \"/_/install\") && !strings.HasPrefix(c.Path(), \"/_/assets\") && !strings.HasPrefix(c.Path(), \"/api\") {\n\t\t\treturn c.Redirect(\"/_/install\")\n\t\t}\n\t} else if strings.HasPrefix(c.Path(), \"/_/install\") {\n\t\treturn c.Redirect(\"/_\")\n\t}\n\treturn c.Next()\n}\n// StartServer is ..."}