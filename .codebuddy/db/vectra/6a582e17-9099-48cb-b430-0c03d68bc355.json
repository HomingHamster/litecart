{"chunk":3,"numChunks":5,"fileHash":"pMWFnJNRpUixU1sf14OGmDfPXFsGCq1eFTzMDbuoVOk=","filePath":"migrations/20230714135923_init_db.sql","content":"\tactive    BOOLEAN DEFAULT FALSE NOT NULL,\n\tcreated \tTIMESTAMP DEFAULT (datetime('now')),\n\tupdated \tTIMESTAMP\n);\nCREATE INDEX idx_page_name ON page (name);\nCREATE INDEX idx_page_slug ON page (slug);\nCREATE INDEX idx_page_group ON page (position);\nINSERT INTO page (id, name, slug, position, content, active) VALUES \n('ig9jpCixAgAu31f', 'Terms & Conditions', 'terms', 'footer', '', true),\n('sdH0wGM54e3mZC2', 'Privacy Policy', 'privacy', 'footer', '', true),\n('kFCjBnL25hNTRHk', 'Cookies', 'cookies', 'footer', '', true);\n\nCREATE TABLE product (\n\tid         TEXT PRIMARY KEY NOT NULL,\n\tname       TEXT NOT NULL,\n\tdesc       TEXT NOT NULL,\n\tslug       TEXT UNIQUE NOT NULL,\n\tamount     NUMERC NOT NULL,\n\tmetadata   JSON DEFAULT '{}' NOT NULL,\n\tattribute  JSON DEFAULT '[]' NOT NULL,\n\tdigital    TEXT CHECK (digital == 'file' OR digital == 'data' OR digital == 'api'),\n\tactive     BOOLEAN DEFAULT TRUE NOT NULL,\n\tdeleted    BOOLEAN DEFAULT FALSE NOT NULL,\n\tcreated    TIMESTAMP DEFAULT (datetime('now')),\n\tupdated    TIMESTAMP\n);\nCREATE INDEX idx_product_id ON product (id);\nCREATE INDEX idx_product_name ON product (name);\nCREATE INDEX idx_product_slug ON product (slug);\n\nCREATE TABLE digital_file (\n\tid            TEXT PRIMARY KEY NOT NULL,\n\tproduct_id    TEXT NOT NULL,\n\tname          TEXT NOT NULL,\n\text           TEXT NOT NULL,\n\torig_name     TEXT NOT NULL,\n\tFOREIGN KEY (product_id) REFERENCES product(id) ON UPDATE CASCADE ON DELETE CASCADE\n);\nCREATE INDEX idx_digital_file_product_id ON digital_file (product_id);\n\nCREATE TABLE digital_data (\n\tid            TEXT PRIMARY KEY NOT NULL,\n\tproduct_id    TEXT NOT NULL,\n\tcontent       TEXT NOT NULL,\n"}