{"chunk":4,"numChunks":11,"fileHash":"5vzQ6EAKKyEj+L6x875XSrWFXsnxCgmamc4hi027MnU=","filePath":"web/site/public/assets/js/main.js","content":"const { createApp, ref } = Vue\nconst App = {\n  beforeMount() {\n    const currentPathname = window.location.pathname\n    switch (true) {\n      case currentPathname.startsWith('/cart'):\n        if (currentPathname.startsWith('/cart/payment/cancel') || currentPathname.startsWith('/cart/payment/success')) {\n          console.log('clear cart')\n          localStorage.removeItem('cart')\n          this.cart = ref([])\n          break\n        }\n        this.listPayments()\n        break\n      case currentPathname.startsWith('/products'):\n        this.getProduct(currentPathname.replace('/products/', ''))\n        break\n      case currentPathname.length > 1:\n        this.getPage(currentPathname.substring(1))\n        break\n      default:\n        this.listProducts()\n        break\n    }\n  },\n  mounted() {\n    this.$nextTick(function () {\n      this.loaded = true\n    })\n\n    // init meta tags\n    document.title = this.title\n    document.querySelector('meta[name=\"title\"]').setAttribute('content', this.title)\n    document.querySelector('meta[property=\"og:title\"]').setAttribute('content', this.title)\n\n    // init cart events\n    window.addEventListener('addProduct', (event) => {\n      this.cart.push(event.detail)\n      localStorage.setItem('cart', JSON.stringify(this.cart))\n    })\n    window.addEventListener('delProduct', () => {\n      this.cart = JSON.parse(localStorage.getItem('cart'))\n    })\n  },"}