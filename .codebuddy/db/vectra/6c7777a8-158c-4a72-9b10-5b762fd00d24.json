{"chunk":0,"numChunks":1,"fileHash":"CyvvvJQ/3XBlxLz52GNZBcrYKCuAr6LKEPJ3ASS52dE=","filePath":"internal/routes/not_found_route.go","content":"package routes\n\nimport (\n\t\"strings\"\n\n\t\"github.com/gofiber/fiber/v2\"\n\n\t\"github.com/shurco/litecart/internal/queries\"\n\t\"github.com/shurco/litecart/pkg/webutil\"\n)\n\n// NotFoundRoute func for describe 404 Error route.\nfunc NotFoundRoute(a *fiber.App, noSite bool) {\n\ta.Use(func(c *fiber.Ctx) error {\n\t\tdb := queries.DB()\n\t\tif db.IsPage(c.Context(), c.Path()[1:]) {\n\t\t\treturn c.Render(\"pages\", nil, \"layouts/main\")\n\t\t}\n\n\t\tif strings.HasPrefix(c.Path(), \"/api\") {\n\t\t\treturn webutil.StatusNotFound(c)\n\t\t}\n\t\tif strings.HasPrefix(c.Path(), \"/_\") {\n\t\t\treturn c.Next()\n\t\t}\n\n\t\tif noSite {\n\t\t\treturn c.Next()\n\t\t}\n\t\treturn c.Status(fiber.StatusNotFound).Render(\"404\", nil, \"layouts/clear\")\n\t})\n}\n"}