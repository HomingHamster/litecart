{"chunk":2,"numChunks":4,"fileHash":"0HnZjRsHNxLRtrmlDX5nelGJFZrHmBu/hOMFcCbnbA4=","filePath":"web/admin/src/pages/Pages.vue","content":"    <PageSeo :page=\"page\" :close=\"closeDrawer\" v-if=\"isDrawer.action === 'seo'\" />\n  </drawer>\n</template>\n\n<script setup>\nimport { onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { FormButton, Editor, Drawer, PageAdd, PageUpdate, PageSeo } from \"@/components/\";\nimport { formatDate } from \"@/utils/\";\nimport { showMessage } from \"@/utils/message\";\nimport { apiGet, apiUpdate } from \"@/utils/api\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst pages = ref([]);\nconst page = ref({});\nconst content = ref();\nconst isDrawer = ref({\n  open: false,\n  action: null,\n});\n\nonMounted(() => {\n  apiGet(`/api/_/pages`).then(res => {\n    if (res.success) {\n      pages.value = res.result;\n    }\n  });\n\n  if (route.params.page_slug) {\n    pageContent(route.params.page_slug);\n  }\n});\n\nconst openPage = (slug) => {\n  router.push({ name: \"pagesArticle\", params: { page_slug: slug } });\n  pageContent(slug);\n};\n\nconst pageContent = async (slug) => {\n  apiGet(`/api/pages/${slug}`).then(res => {\n    if (res.success) {\n      page.value = res.result;\n      content.value = res.result.content;\n    } else {\n      router.push({ name: \"404\" });\n    }\n  });\n};\n\nconst updatePageContent = async () => {\n  page.value.content = content.value\n  apiUpdate(`/api/_/pages/${page.value.id}/content`, page.value).then(res => {\n    if (res.success) {\n      showMessage(res.message);\n    } else {\n      showMessage(res.result, \"connextError\");\n    }\n  })\n};\n\nconst updatePageActive = async (index) => {\n"}