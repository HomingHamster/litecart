{"chunk":0,"numChunks":1,"fileHash":"EEScAP4fkxcqD6amTO3e5gnmW+6Bi3bNdc8ozwBu5ag=","filePath":"web/admin/src/pages/Signin.vue","content":"<template>\n  <div class=\"mx-auto max-w-screen-xl px-4 py-16 sm:px-6 lg:px-8\">\n    <div class=\"mx-auto max-w-lg text-center\">\n      <h1 class=\"text-2xl font-bold sm:text-3xl\">👨‍🎨 Admin sign in</h1>\n    </div>\n    <Form @submit=\"onSubmit\" v-slot=\"{ errors }\" class=\"mx-auto mb-0 mt-8 max-w-md space-y-4\">\n      <FormInput v-model=\"state.email\" :error=\"errors.email\" id=\"email\" type=\"email\" rules=\"required|email\" title=\"Email\" ico=\"at-symbol\" />\n      <FormInput v-model=\"state.password\" :error=\"errors.password\" id=\"password\" type=\"password\" rules=\"required|min:6\" title=\"Password\" ico=\"finger-print\" />\n      <FormButton type=\"submit\" name=\"Login\" color=\"green\" ico=\"arrow-right\" />\n    </Form>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { FormInput, FormButton } from \"@/components/\";\nimport { showMessage } from \"@/utils/message\";\nimport { apiPost } from \"@/utils/api\";\nimport { Form } from \"vee-validate\";\n\nconst state = ref({\n  email: \"\",\n  password: \"\",\n});\n\nconst onSubmit = async () => {\n  apiPost(`/api/sign/in`, state.value).then(res => {\n    if (res.success) {\n      window.location.href = \"/_/\";\n    } else {\n      showMessage(res.result, \"connextError\");\n    }\n  });\n};\n</script>\n"}