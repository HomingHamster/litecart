{"chunk":4,"numChunks":6,"fileHash":"czUvAHNcQlI0FXMljKWUA9kENxZxEmfOz2Rm1naI2w0=","filePath":"web/admin/src/components/product/Update.vue","content":"  apiUpdate(`/api/_/products/${product.value.id}`, product.value).then(\n    (res) => {\n      if (res.success) {\n        products.value.products[props.drawer.product.index] = product.value;\n        showMessage(res.message);\n      } else {\n        showMessage(res.result, \"connextError\");\n      }\n    },\n  );\n};\n\nconst deleteProduct = async () => {\n  apiDelete(`/api/_/products/${product.value.id}`).then((res) => {\n    if (res.success) {\n      products.value.products.splice(props.drawer.product.index, 1);\n      products.value.total--;\n      showMessage(res.message);\n    } else {\n      const obj = JSON.parse(res.result);\n      if (obj.code === \"resource_missing\") {\n        console.log(obj.message);\n      }\n    }\n    props.close();\n  });\n};\n\nconst active = async () => {\n  props.updateActive(props.drawer.product.index);\n  product.value.active = !product.value.active;\n};\n\nconst addMetadataRecord = () => {\n  const metadata = product.value.metadata || [];\n  metadata.push({ key: \"\", value: \"\" });\n  product.value.metadata = metadata;\n};\n\nconst deleteMetadataRecord = (key) => {\n  product.value.metadata.splice(key, 1);\n};\n\nconst addAttributeRecord = () => {\n  const attributes = product.value.attributes || [];\n  attributes.push(\"\");\n  product.value.attributes = attributes;\n};\n\nconst deleteAttributeRecord = (index) => {\n  product.value.attributes.splice(index, 1);\n};\n\nconst addProductImage = (e) => {\n  if (e.success) {\n    if (!product.value.images) {\n      product.value.images = [];\n    }\n    product.value.images.push(e.result);\n  }\n};\n\nconst deleteProductImage = async (index) => {\n  apiDelete(`/api/_/products/${product.value.id}/image/${product.value.images[index].id}`).then((res) => {\n    if (res.success) {\n"}