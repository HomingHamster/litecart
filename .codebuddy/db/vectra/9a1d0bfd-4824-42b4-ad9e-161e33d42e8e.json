{"chunk":1,"numChunks":7,"fileHash":"29E9xFGFjc3raKkkjn6QgVwydbVzR/jGl9rax+tvZec=","filePath":"internal/handlers/private/product.go","content":"package handlers\nfunc Product(c *fiber.Ctx) error {\n\tproductID := c.Params(\"product_id\")\n\tdb := queries.DB()\n\tlog := logging.New()\n\n\tproduct, err := db.Product(c.Context(), true, productID)\n\tif err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\n\treturn webutil.Response(c, fiber.StatusOK, \"Product info\", product)\n}\n// UpdateProduct is ...\n// [patch] /api/_/products/:product_id\nfunc UpdateProduct(c *fiber.Ctx) error {\n\tproductID := c.Params(\"product_id\")\n\tdb := queries.DB()\n\tlog := logging.New()\n\trequest := new(models.Product)\n\trequest.ID = productID\n\n\tif err := c.BodyParser(request); err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusBadRequest(c, err.Error())\n\t}\n\n\tif err := db.UpdateProduct(c.Context(), request); err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\n\treturn webutil.Response(c, fiber.StatusOK, \"Product updated\", nil)\n}\n// DeleteProduct is ...\n// [delete] /api/_/products/:product_id\nfunc DeleteProduct(c *fiber.Ctx) error {\n\tproductID := c.Params(\"product_id\")\n\tdb := queries.DB()\n\tlog := logging.New()\n\n\tif err := db.DeleteProduct(c.Context(), productID); err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\n\treturn webutil.Response(c, fiber.StatusOK, \"Product deleted\", nil)\n}\n// UpdateProductActive is ...\n// [patch] /api/_/products/:product_id/active"}