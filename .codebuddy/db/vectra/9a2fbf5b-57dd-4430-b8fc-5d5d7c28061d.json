{"chunk":1,"numChunks":2,"fileHash":"Mn3N4DIAGMUuZ2vqtRJZbN3cW2TVnPrUsIA8Q6cncA0=","filePath":"web/admin/src/components/setting/Paypal.vue","content":"import { FormInput, FormButton, FormToggle } from \"@/components/\";\nimport { useSystemStore } from '@/store/system';\nimport { showMessage } from \"@/utils/message\";\nimport { apiGet, apiUpdate } from \"@/utils/api\";\nimport { Form } from \"vee-validate\";\n\nconst settings = ref({});\nconst store = useSystemStore();\nconst props = defineProps({\n  close: Function,\n});\n\nonMounted(() => {\n  apiGet(`/api/_/settings/paypal`).then(res => {\n    if (res.success) {\n      settings.value.active = res.result.active;\n      settings.value.client_id = res.result.client_id;\n      settings.value.secret_key = res.result.secret_key;\n    }\n  });\n});\n\nconst updateSetting = async () => {\n  const update = {\n    \"client_id\": settings.value.client_id,\n    \"secret_key\": settings.value.secret_key,\n    \"active\": settings.value.active,\n  };\n\n  apiUpdate(`/api/_/settings/paypal`, update).then(res => {\n    if (res.success) {\n      showMessage(res.message);\n    } else {\n      showMessage(res.result, \"connextError\");\n    }\n  });\n};\n\nconst active = () => {\n  const update = {\n    value: settings.value.active,\n  };\n\n  apiUpdate(`/api/_/settings/paypal_active`, update).then(res => {\n    if (res.success) {\n      store.payments['paypal'] = settings.value.active;\n      showMessage(res.message);\n    } else {\n      showMessage(res.result, \"connextError\");\n    }\n  });\n};\n</script>\n"}