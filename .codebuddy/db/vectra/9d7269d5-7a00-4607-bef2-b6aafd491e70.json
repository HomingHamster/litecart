{"chunk":5,"numChunks":15,"fileHash":"8k4FlTUnMf07dAju0be0NC0/K8xARV1JpkKBM3DCrfY=","filePath":"internal/handlers/public/cart.go","content":"package handlers\nfunc Payment(c *fiber.Ctx) error {\n\tswitch paymentSystem {\n\tcase litepay.STRIPE:\n\t\tsetting, err := queries.GetSettingByGroup[models.Stripe](c.Context(), db)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n\t\t}\n\n\t\tif !setting.Active {\n\t\t\treturn webutil.Response(c, fiber.StatusOK, \"Payment url\", paymentURL)\n\t\t}\n\t\tsession := pay.Stripe(setting.SecretKey)\n\t\tresponse, err := session.Pay(cart)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n\t\t}\n\t\tpaymentURL = response.URL\n\n\tcase litepay.PAYPAL:\n\t\tsetting, err := queries.GetSettingByGroup[models.Paypal](c.Context(), db)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n\t\t}\n\n\t\tif !setting.Active {\n\t\t\treturn webutil.Response(c, fiber.StatusOK, \"Payment url\", paymentURL)\n\t\t}\n\t\tsession := pay.Paypal(setting.ClientID, setting.SecretKey)\n\t\tresponse, err := session.Pay(cart)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n\t\t}\n\t\tpaymentURL = response.URL\n\n\tcase litepay.SPECTROCOIN:\n\t\tsetting, err := queries.GetSettingByGroup[models.Spectrocoin](c.Context(), db)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n\t\t}\n\n\t\tif !setting.Active {\n\t\t\treturn webutil.Response(c, fiber.StatusOK, \"Payment url\", paymentURL)\n\t\t}\n\t\tsession := pay.Spectrocoin(setting.MerchantID, setting.ProjectID, setting.PrivateKey)\n\t\tresponse, err := session.Pay(cart)\n\t\tif err != nil {\n\t\t\tlog.ErrorStack(err)\n\t\t\treturn webutil.StatusInternalServerError(c)\n"}