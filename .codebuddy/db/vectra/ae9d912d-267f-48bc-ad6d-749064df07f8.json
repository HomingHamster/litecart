{"chunk":2,"numChunks":15,"fileHash":"8k4FlTUnMf07dAju0be0NC0/K8xARV1JpkKBM3DCrfY=","filePath":"internal/handlers/public/cart.go","content":"package handlers\nfunc Payment(c *fiber.Ctx) error {\n\tdb := queries.DB()\n\tlog := logging.New()\n\tpayment := new(models.CartPayment)\n\n\tif err := c.BodyParser(payment); err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusBadRequest(c, err.Error())\n\t}\n\n\tsetting, err := db.GetSettingByKey(c.Context(), \"domain\", \"currency\")\n\tif err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\tdomain := setting[\"domain\"].Value.(string)\n\tcurrency := setting[\"currency\"].Value.(string)\n\n\tproducts, err := db.ListProducts(c.Context(), false, payment.Products...)\n\tif err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusInternalServerError(c)\n\t}\n\n\titems := make([]litepay.Item, len(products.Products))\n\tfor i, product := range products.Products {"}