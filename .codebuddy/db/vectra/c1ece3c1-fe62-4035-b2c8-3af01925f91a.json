{"chunk":0,"numChunks":1,"fileHash":"LrFm1YY0m73ZgeHKmgxuzg3T1d2bTpWLso1G+On0mFU=","filePath":"web/admin/src/utils/api/index.js","content":"import { start, done } from \"nprogress\";\n\nexport async function apiGet(url) {\n  return handleRequest(url, {\n    credentials: \"include\",\n    method: \"GET\",\n  });\n}\n\nexport async function apiPost(url, body) {\n  const options = createOptions(\"POST\", body);\n  return handleRequest(url, options);\n}\n\nexport async function apiUpdate(url, body) {\n  const options = createOptions(\"PATCH\", body);\n  return handleRequest(url, options);\n}\n\nexport async function apiDelete(url) {\n  return handleRequest(url, {\n    credentials: \"include\",\n    method: \"DELETE\",\n  });\n}\n\nasync function handleRequest(url, options) {\n  try {\n    start();\n    const response = await fetch(url, options);\n    return response.json();\n  } catch (error) {\n    console.error(error);\n  } finally {\n    done();\n  }\n}\n\nfunction createOptions(method, body) {\n  const options = {\n    credentials: \"include\",\n    method,\n  };\n\n  if (body) {\n    if (Object.keys(body).length > 0) {\n      options.body = JSON.stringify(body);\n      options.headers = {\n        \"Content-Type\": \"application/json\",\n      };\n    } else {\n      options.body = body;\n    }\n  }\n\n  return options;\n}\n"}