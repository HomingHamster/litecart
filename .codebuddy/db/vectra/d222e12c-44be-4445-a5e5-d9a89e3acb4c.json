{"chunk":3,"numChunks":4,"fileHash":"yRWF4f9/RCA5elPF4InM9cCx4a8cEm6izNdr5E3Vqfg=","filePath":"pkg/litepay/provider_stripe.go","content":"package litepay\nfunc (c *stripe) Pay(cart Cart) (*Payment, error) {\n\tparams.Add(\"cancel_url\", fmt.Sprintf(\"%s/?payment_system=%s&cart_id=%s\", c.cancelURL, c.paymentSystem, cart.ID))\n\tparams.Add(\"mode\", `payment`)\n\tbody := strings.NewReader(params.Encode())\n\n\treq, err := http.NewRequest(\n\t\thttp.MethodPost,\n\t\tc.api+\"/v1/checkout/sessions\",\n\t\tbody,\n\t)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treq.SetBasicAuth(c.apiToken, \"\")\n\treq.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n\n\tresp, err := http.DefaultClient.Do(req)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tdefer resp.Body.Close()\n\n\tdata, err := parseBody(resp.Body)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\tcheckout := &Payment{"}