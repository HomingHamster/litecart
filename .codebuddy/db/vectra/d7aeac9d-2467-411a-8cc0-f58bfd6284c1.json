{"chunk":7,"numChunks":9,"fileHash":"/NyQF2+K6TrGy+IF2sCZmo4lu27kP9V25njpWNg1Mls=","filePath":"web/admin/src/layouts/Main.vue","content":"          :class=\"(store.version.new ? 'border-gray-300 bg-yellow-200 text-gray-500' : 'border-gray-100 text-gray-300')\">\n          Powered by litecart\n          <span v-if=\"store.version.new\">({{ store.version.current_version }}â†’<span class=\"pl-1 text-red-500\">{{ store.version.new }}</span>)</span>\n          <span v-else>({{ store.version.current_version }})</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { setCookie } from \"@/utils/\";\nimport { useSystemStore } from \"@/store/system\";\nimport { apiGet } from \"@/utils/api\";\n\nconst store = useSystemStore();\nconst route = useRoute();\nconst router = useRouter();\n\nonMounted(() => {\n  if (Object.keys(store.version).length === 0) {\n    versionInfo();\n  }\n});\n\nconst versionInfo = async () => {\n  apiGet(`/api/_/version`).then((res) => {\n    if (res.success) {\n      store.version = res.result;\n    }\n  });\n};\n\nconst goToRelease = async () => {\n  if (!store.version.release_url) {\n    store.version.release_url = \"https://github.com/shurco/litecart\"\n  }\n  window.open(store.version.release_url, \"_blank\");\n};\n\nconst signOut = async () => {\n  await fetch(\"/api/sign/out\", {\n    credentials: \"include\",\n    method: \"POST\",\n  }).then((response) => {\n    if (response.status === 204) {\n      setCookie(\"token\", \"\", -1);\n      router.push({ path: \"signin\" });\n    }\n  });\n};\n\nconst mainMenu = () => {\n  return router.options.routes.filter((e) => e.meta.ico);\n}\n\n"}