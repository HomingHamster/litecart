{"chunk":4,"numChunks":7,"fileHash":"29E9xFGFjc3raKkkjn6QgVwydbVzR/jGl9rax+tvZec=","filePath":"internal/handlers/private/product.go","content":"package handlers\nfunc AddProductImage(c *fiber.Ctx) error {\n\tproductID := c.Params(\"product_id\")\n\tdb := queries.DB()\n\tlog := logging.New()\n\n\tfile, err := c.FormFile(\"document\")\n\tif err != nil {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusBadRequest(c, err.Error())\n\t}\n\n\tvalidMIME := false\n\tvalidMIMETypes := []string{\"image/png\", \"image/jpeg\"}\n\tfor _, mime := range validMIMETypes {\n\t\tif mime == file.Header[\"Content-Type\"][0] {\n\t\t\tvalidMIME = true\n\t\t}\n\t}\n\tif !validMIME {\n\t\tlog.ErrorStack(err)\n\t\treturn webutil.StatusBadRequest(c, \"file format not supported\")\n\t}\n\n\tfileUUID := uuid.New().String()\n\tfileExt := fsutil.ExtName(file.Filename)\n\tfileName := fmt.Sprintf(\"%s.%s\", fileUUID, fileExt)\n\tfilePath := fmt.Sprintf(\"./lc_uploads/%s\", fileName)"}