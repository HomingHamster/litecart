{"chunk":0,"numChunks":1,"fileHash":"QOye32PzC4d1MsNgG7OUPQ7J3e3zoqM/0KQQksqvCOM=","filePath":"internal/init.go","content":"package app\n\nimport (\n\t\"github.com/shurco/litecart/internal/base\"\n\t\"github.com/shurco/litecart/migrations\"\n\t\"github.com/shurco/litecart/pkg/fsutil\"\n)\n\n// Init is ...\nfunc Init() error {\n\tdirsToCheck := []struct {\n\t\tpath string\n\t\tname string\n\t}{\n\t\t{\"./lc_uploads\", \"lc_uploads\"},\n\t\t{\"./lc_digitals\", \"lc_digitals\"},\n\t}\n\n\tfor _, dir := range dirsToCheck {\n\t\tif err := fsutil.MkDirs(0o775, dir.path); err != nil {\n\t\t\tlog.Err(err).Send()\n\t\t\treturn err\n\t\t}\n\t}\n\n\tif _, err := base.New(\"./lc_base/data.db\", migrations.Embed()); err != nil {\n\t\tlog.Err(err).Send()\n\t\treturn err\n\t}\n\n\treturn nil\n}\n\n// Migrate is ...\nfunc Migrate() error {\n\tif err := base.Migrate(\"./lc_base/data.db\", migrations.Embed()); err != nil {\n\t\treturn err\n\t}\n\n\treturn nil\n}\n"}