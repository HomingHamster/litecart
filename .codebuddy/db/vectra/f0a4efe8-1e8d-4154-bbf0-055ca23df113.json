{"chunk":2,"numChunks":4,"fileHash":"NIs4iGfscLYjgGN7BV0nDoHNzc+vl8r42ta3QUcA6gQ=","filePath":"web/admin/src/pages/settings/mail.vue","content":"            <span @click=\"sendTestLetter('smtp')\" class=\"cursor-pointer text-red-700\">Test smtp</span>\n          </div>\n        </div>\n      </Form>\n    </div>\n  </div>\n\n  <drawer :is-open=\"isDrawer.open\" max-width=\"725px\" @close=\"closeDrawer\">\n    <Letter :close=\"closeDrawer\" :send=\"sendTestLetter\" :legend=\"letterLegend['mail_letter_payment']\" name=\"mail_letter_payment\" v-if=\"isDrawer.action === 'mail_letter_payment'\" />\n    <Letter :close=\"closeDrawer\" :send=\"sendTestLetter\" :legend=\"letterLegend['mail_letter_purchase']\" name=\"mail_letter_purchase\"\n      v-if=\"isDrawer.action === 'mail_letter_purchase'\" />\n  </drawer>\n</template>\n\n<script setup>\nimport { onMounted, ref } from \"vue\";\nimport { FormInput, FormButton, FormSelect, Drawer, Letter } from \"@/components/\";\nimport { showMessage } from \"@/utils/message\";\nimport { apiGet, apiUpdate } from \"@/utils/api\";\nimport { Form } from \"vee-validate\";\n\nconst mail = ref({\n  smtp: {},\n});\n\nconst isDrawer = ref({\n  open: false,\n  action: null,\n});\n\nconst letterLegend = {\n  \"mail_letter_payment\": {\n    \"Site_Name\": \"Site name\",\n    \"Amount_Payment\": \"Amount of payment\",\n    \"Payment_URL\": \"Payment link\",\n  },\n  \"mail_letter_purchase\": {\n    \"Purchases\": \"Purchases\",\n    \"Admin_Email\": \"Admin email\",\n  }\n}\n\nonMounted(() => {\n  apiGet(`/api/_/settings/mail`).then(res => {\n    if (res.success) {\n      mail.value = res.result;\n    }\n  });\n});\n\nconst updateMail = async () => {\n  var update = {};\n  update = mail.value;\n"}