{"chunk":3,"numChunks":4,"fileHash":"dNo/JX30rQL1KenUxS0Z4GHCrkSuXooTP1eS9BRQqUs=","filePath":"web/admin/src/components/product/Add.vue","content":"  },\n  set: (val) => {\n    emits(\"update:modelValue\", val);\n  },\n});\n\nconst addMetadataRecord = async () => {\n  const metadata = product.value.metadata || [];\n  metadata.push({ key: \"\", value: \"\" });\n  product.value.metadata = metadata;\n};\n\nconst deleteMetadataRecord = async (key) => {\n  product.value.metadata.splice(key, 1);\n};\n\nconst addAttributeRecord = async () => {\n  const attributes = product.value.attributes || [];\n  attributes.push(\"\");\n  product.value.attributes = attributes;\n};\n\nconst deleteAttributeRecord = async (index) => {\n  product.value.attributes.splice(index, 1);\n};\n\nconst addProduct = async () => {\n  product.value.amount = costStripe(amount.value);\n  apiPost(`/api/_/products`, product.value).then(res => {\n    if (res.success) {\n      console.log(\"outer if\");\n      if (!Array.isArray(products.value.products)) {\n        console.log(\"products is not an array\");\n        products.value.products = [];\n      }\n      products.value.products.push({\n        id: res.result.id,\n        name: res.result.name,\n        description: res.result.description,\n        amount: res.result.amount,\n        slug: res.result.slug,\n        created: res.result.created,\n        digital: {\n          type: res.result.digital.type,\n        },\n      });\n      products.value.total++;\n      props.close();\n      showMessage(res.message);\n\n      props.drawer.open = true;\n      props.drawer.action = 'digital';\n      props.drawer.product = {\n        id: res.result.id,\n        digital: res.result.digital.type,\n      }\n    } else {\n      showMessage(res.result, \"connextError\");\n    }\n  });\n};\n</script>\n"}